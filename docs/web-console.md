---
title: Web Console Interface
description: Web Console it’s possible to connect and check the data uploaded from the smartphone (Android and iOS).
---

## Web Console Interface

The web console is accessible through the following link:
[<u>https://www.pic2bim.co.uk/</u>](https://www.pic2bim.co.uk/)

#### User roles

User role

* Have access to his tasks and photos, but is not able to do any operations.

Officer role

* Have access to all users that belong under his agency, can move tasks between states.

Super-admin role

* Have access to Agency management module. Can create new agencies and
    manage existing ones.

* Does not have access to standard application.

##### Login screen 

To log in to the web interface, enter your login details.

<img src="/media/media_ce40e37ac8e7d2e8.png" width="353" height="352" />  

Fig. 34 Web Console login

##### Change Password

After logging in to the platform, every user can change his password to
a more fitting one using the button in the top right area of the
console.

<img src="/media/media_2f622df43b9c47f7.png" width="650" height="339" />

<img src="/media/media_c637f365d899be84.png" width="363" height="35" />

To change the current logged user password, fill in a new password and
the confirmation in the change password form. A message will warn you of
your action and if confirmed your password will change to the new one.

<img src="/media/media_6415fd77e28ab712.png" width="650" height="175" />

Fig. 35 Web Change Password

<b>User access</b>

The default page after login is the Task list.

### Tasks

#### 2.1 Task List

The bottom part shows the assigned tasks, which can be sorted, filtered
and searched. In the top part, points representing individual tasks are
displayed on the map. Map is shown by default.

<img src="/media/media_8372ad0c74abb659.png" width="650" height="323" />

Fig.36 Tasks and Map

The following options are available for the user:

#### 2.1.1 Open task detail

* (by clicking on the selected row in the list)

<img src="/media/media_f2c99e115a7738be.png" width="183" height="47" />

<img src="/media/media_e91744cf2298e587.png" width="650" height="27" />

#### 2.1.2 Search for tasks

* by the specific text

#### 2.1.3 Filter tasks

* by status (by clicking on the selected status)

<img src="/media/media_3b226a031e380fd5.png" width="436" height="58" />

#### 2.1.4 Sort tasks

* in a list by the selected column (by clicking on the column heading) or according to the date of completion of the task
(with the button "Passed to the end")

<img src="/media/media_abee81602bcd0ed1.png" width="109" height="51" />
<img src="/media/media_497ed878a3764f23.png" width="627" height="64" />  
  
<img src="/media/media_3ded08d38d0048d1.png" width="176" height="32" />  

#### 2.1.5 Display a page with unassigned photos

<img src="/media/media_7b6598d7f4cc6bf1.png" width="109" height="31" />  

#### 2.1.6 Display a page with paths

Browse the map and open the task detail by clicking on a point on the map  

<img src="/media/media_eb7f9ff2260a9fb8.png" width="650" height="332" />

Fig. 37 Tasks Status

#### 2.2.0 Task Detail page

This page contains detailed information about the task, as well as photos that were taken for the task. The map shows the position of the
photos, the *viewing radius* of the camera and the *direction* of the photo.

<img src="/media/media_e7ecd8bee5ef8a5d.png" width="650" height="337" />

Fig.38 Task detail

#### 2.2.1 Photos can be rotated

here using the buttons:

<img src="/media/media_959a4f84809a7066.png" width="58" height="36" />

#### 2.2.2 Click on the photo to open the Photo Gallery

A table with source data is placed next to each photo.

#### 2.2.3 User can select photos for export to PDF

<img src="/media/media_b9a1f67d75901d48.png" width="86" height="27" />

<img src="/media/media_32cb754056fc8117.png" width="387" height="60" />

PDF export functionality is described below.

### 3.0 Photos

#### 3.1 Standalone photos gallery

At the top of the page, a map is displayed, where the position of individual unassigned photos is marked.

Fig. 39 Standalone task unassigned photos

Below are photos that are not assigned to any task. A table with source data is placed next to each photo.

<img src="/media/media_987f5869113b749c.png" width="650" height="332" />

Fig. 40 Unassigned photos

Several options are available to edit the photos:

#### 3.1.1 Rotation <img src="/media/media_3abcbf294c5f55f7.png" width="58" height="37" />

#### 3.1.2 Delete <img src="/media/media_7e7520483684c77e.png" width="21" height="29" />

#### 3.1.3 Select for an action <img src="/media/media_db5565f08fd0257d.png" width="66" height="28" />

* By clicking the Select button, the photo is marked for the bulk assignment to a task, to a bulk delete or bulk export to PDF

<img src="/media/media_7d3d8d5292e8e65b.png" width="128" height="83" />

* Selected photos are marked by the red rectangle.
Open photo gallery – click on the photo (see below)

#### 3.1.4 When selecting bulk *actions*, the following options are available

<img src="/media/media_3d5d54be425feab7.png" width="650" height="63" />

<img src="/media/media_84ca2e2f23d979ce.png" width="650" height="60" />

Select all

Selects all unassigned photos

* Cancel selection

Cancels current selection

* Choose task

#### 3.1.5 Displays a page where you can select the task:

to which the selected photos are to be assigned.
<br> For recapitulation, the photos that were marked on the previous page are displayed here.
<br> Below the photos, a selection box is available, where it is necessary to select the target task. The map is displayed at the top of the page.

1. After clicking the Confirm button, a dialog box will appear, where by pressing the OK button, the process of assigning photos will be completed.
1. Once finished, the user is navigated back to the Task list screen.

#### 3.1.6 Delete selected photos

<img src="/media/media_455d910b74ee28f.png" width="447" height="183" />

Displays a dialog box where, after confirmation by pressing *OK*, the marked photos will be deleted

#### 3.1.7 Export all to PDF

This button pass all photos to PDF export

#### 3.1.8 Export selected to PDF

This button pass selected photos to PDF export

PDF export functionality is described below.
#### Photo gallery

The gallery is accessible from various places in the application, always
by clicking on the photo.

<img src="/media/media_995e8070844c221a.png" width="576" height="654" />

Fig. 41 Photo gallery  

#### 3.1.9 Control panel
At the bottom is the control panel, where you can rotate the photo and
jump between photos using the arrows.

Clicking on a photo in the gallery opens a new window in which the photo
is loaded in its maximum size and it is possible to 

* Zoom in
* Zoom out
* Reset zoom
or set the default size  change is for preview only, and will not be saved.

<img src="/media/media_274c8f734212bc4c.png" width="406" height="168" />  
  
### 4.0 Paths  

#### 4.1 User paths

At the top of the page, a map is displayed, where all of the paths are
shown.

<img src="/media/media_80f9c808fabbd3c9.png" width="650" height="297" />

Fig. 42 User paths

Paths can be highlighted by clicking on the map. Each path has displayed
points of which it is composed. Click on the point to display a table
with detailed information.

<img src="/media/media_c4d2f51d24fb4b97.png" width="650" height="296" />

Fig. 43 Highlighted path with point detail

Below is a list of paths of the selected user. Only selected routes can
be displayed on the map using the checkbox in the Show on map column.

Paths can be deleted using delete path.

<img src="/media/media_8c94a2a379769430.png" width="105" height="28" />  
  
#### 4.1.1 Generating PDF documents

The functionality of exporting data to PDF is triggered by buttons:

<img src="/media/media_32cb754056fc8117.png" width="367" height="57" />

The buttons are available at the *Unassigned photos page* and the *Task detail page*.

The button (Export all to PDF) passes all photos at current page to a PDF export and open a PDF prepare page.

<img src="/media/media_a6a98ef36d008b95.png" width="650" height="321" />
  
Fig. 44 PDF generating prepare page

On the PDF prepare page are displayed all the photos which are going to
be exported. Every photo has its own map generated especially for the
PDF which can be adjusted before export. Once everything is prepared
(progress loader disappears), export is executed by clicking the
“Generate” button.

Generating PDF can take some time, which depends on total count of
exported photos. The user is informed by progress loader.

<img src="/media/media_e6361a298a91396d.png" width="189" height="334" />  
  
Fig. 45 Progress loader

The button “Export selected to PDF” passes to the PDF export just the
selected photos:

<img src="/media/media_cf6f5e8bb44156fe.png" width="650" height="421" />

Fig. 46 Selected photo

<br>Next steps of the exporting process are
identical to process steps described above (“Export all to PDF”).<br>

### 5.0 Map

<img src="/media/media_68441ea2e0022d85.png" width="650" height="233" />

Fig. 47 Map

Points that represent photos or tasks displayed on the currently open
page are always displayed on the map.

The zoom of the map is automatically set so that all points are visible
in the displayed area of the map. The zoom can be adjusted manually
(with the mouse wheel or using the control panel on the map).

The points are color *coded according to the active status of the task.
The color of the points corresponds to the color of the status in the
task list. Points representing unassigned photos are not color* coded.

<img src="/media/media_7fe4e6af989321c9.png" width="605" height="39" />

Fig. 44 Task status list

Click on a map point to open the task detail.

<img src="/media/media_a5a53542367a0beb.png" width="518" height="338" />

Fig. 48 Map *a middle zoom*

Due to the possible high concentration of points in a small area, the
points are grouped into one group with a numerical expression of the
number of points in a given place. Click on the group icon to zoom in on
the group position. As you zoom in greatly on the map, points are
changed to preview banners that display a specific user, the name of the
task, the photo and the radius of the camera view at the time the photo
was taken. Clicking on this banner opens the following task detail.

Polygons of existing plots and their names are also shown.

<img src="/media/media_db4a3402c04fe4cd.png" width="549" height="269" />

Fig. 49 Map – detail zoom in

### 6.0 Administrator

After logging in, the user management page is displayed. Graphically and
functionally, the application is the same as in the approach for users.
In the administrator access, controls are added as described below.

#### User management

<img src="/media/media_d5a09cf063d1bb1b.png" width="650" height="188" />

Fig. 50 User management

At the top is a map with all the tasks of all users. At the bottom is a
list of users.

The following options can be used:

* Search for a user according to the entered text

<img src="/media/media_f2c99e115a7738be.png" width="194" height="49" />

* Sort users in the list by the selected column (by clicking on the column heading)

<img src="/media/media_80ec801054b680cd.png" width="650" height="115" />

* Open user detail

<img src="/media/media_cb2a981135723b9c.png" width="328" height="347" />

<img src="/media/media_54aef75f9d5d1ab1.png" width="156" height="43" />  

* Add a new user

* By clicking on the button, a table is displayed in which it is necessary to fill in the data of the new user

* The creation of a new user is confirmed by pressing the Save button.

* The entered login and password will be used by the user to access the application.

<img src="/media/media_44bd570b5aeae909.png" width="356" height="375" />

* Edit an existing user

<img src="/media/media_efd2f8632ce2fcec.png" width="157" height="54" />

* Clicking the button displays the same table as when creating a new user

In this case, the table is pre * populated with the data of the selected user

The data can be edited in the table (except for the login) and their modification can be confirmed with the *Save* button.

If the password field is left blank,the password remains the same.

#### User Detail

<img src="/media/media_8372ad0c74abb659.png" width="650" height="323" />

Fig. 51 Tasks  *Administrator*

This page is the same as in the user's approach, extended by the
following:

* New task

<img src="/media/media_6cc4e0f35e8a8b0.png" width="142" height="45" />

* Clicking on the button displays a
table in which it is necessary to fill in the data of the new task.
The creation of a new task is confirmed by pressing the Save button.
A new task is created with the status
"*new*"

<img src="/media/media_79ee220492ba9733.png" width="320" height="214" />

* Bulk task approval function

* To perform a bulk approval, you must first mark the tasks to be approved. By checking the box for the required tasks in the right column of the table.

* Only tasks with the status *"data provided"*
can be approved.

* After pressing the Approve in bulk button, a dialog box is displayed, where after pressing the OK button, the bulk action will be performed.

* Approval of tasks changes their status to *"data checked"* and the acceptance status to *"Approved".*

* Photos

  * The *decoration* *Examined* column graphically shows whether the photo checks were OK or not.

  * This involves checking the correctness of the position and checking the originality of the photo.

  * Complete control information is displayed in the task detail for each photo.

#### Task Detail

<img src="/media/media_3ac0757ce4cb0269.png" width="650" height="340" />

Fig. 51 Task detail – Administrator view

This page is the same as in the user's approach, extended by the
following:

#### Task Detail Actions

* Approve <img src="/media/media_d82c577df9fe8c14.png" width="43" height="40" />

  * "data checked"*and the reception status*
  * *"Approved".*

* Reject <img src="/media/media_3d98108fa20a4b0a.png" width="39" height="40" />

      * This action is available with the status

      * *"data provided",* and results in the rejection of a task.

      * After pressing the*Reject* button, a dialog box is displayed,where it is possible to enter a comment for rejection, and after pressing OK, the action will be performed.

      * The result of the action is the setting of the status "data checked" and the acceptance status *"Rejected".*

* Return to user <img src="/media/media_77ccf5387648e807.png" width="44" height="40" />

  * This action is available with the status *"data provided"*. It allows you to return the task to the user for completion.

  * After pressing the Undo button, a dialog box is displayed, where it is possible to enter a comment to
    be undone, and after pressing OK, the action will be performed.

  * The result of the action is the setting of the status *"returned".*

* Move to *"data provided"*
<img src="/media/media_788e386195526b6c.png" width="53" height="34" />  

  * This event is available with an *"open"*status. It allows you to move the task to *"data provided"* status.

  * After pressing the Move button, a dialog box is displayed, where it is possible to enter a comment,
    and after pressing OK, the action will be performed.

  * The result of the action is the
    setting of the status *"data provided".*
    <img src="/media/media_d7581e8254b0118.png" width="51" height="34" />  

* Delete

  * This action is available with the status *"new".*
    It allows you to delete a task.

  * After pressing the Delete button, a dialog box is displayed, where after pressing OK the action is performed.

  * The result of the action is deleting of the task.

* Verification of photos

  * The *Examined* column graphically shows whether
    the photo checks were OK or not.
    <br>This involves checking the correctness of the position and checking the originality of the photo.

  * View complete photo review information

  * The table of photo data shows the results of the performed checks in color.

#### Super-administrator

After logging in, the Agency management page is displayed.

<img src="/media/media_6a575c733558634e.png" width="650" height="283" />

Fig. 53 Agency management  
  
#### Agency list

This page offers the following features:

* Add new agency

<img src="/media/media_e5bf8f8484573e68.png" width="160" height="46" />

* Clicking on the button displays a table in which it is necessary to fill in the name of the new agency.
The creation of the agency is confirmed by pressing the *Save* button.

<img src="/media/media_7753f656b8953d20.png" width="165" height="168" />

 Open detail of the agency by clicking on a row of specified agency.

<img src="/media/media_1dbbf1a1eca58337.png" width="183" height="32" />  

#### Agency detail

<img src="/media/media_3bb56e251bcea433.png" width="650" height="140" />

Fig. 54 Officers management

#### Add a new officer  

<img src="/media/media_8a6179a89e95448e.png" width="166" height="54" />  

* By clicking on the button, a table is displayed in which it is necessary to fill in the data of the new officer.
The creation of a new officer is confirmed by pressing the *Save* button.

* The entered login and password will be used by the user to access the application.

<img src="/media/media_e19b0fd224032e86.png" width="241" height="248" />

#### Edit an existing officer

<img src="/media/media_b7bd5ab846f61c65.png" width="91" height="40" />

* Clicking the button displays the same table as when creating a new officer. In this case, the table
is pre * populated with the data of the selected officer. The data can be edited in the table (except for the login) and their modification can be confirmed with the Save button.

* If the password field is left blank,the password remains the same.

#### Deactivate an existing officer

<img src="/media/media_67cbd8759aa2d1c8.png" width="114" height="34" />  

* After pressing the Deactivate button, a dialog box is displayed, where after pressing OK the action is performed.

* The result of the action is deactivation of the selected officer.

* The deactivated officer will be no more able to log in into application.

### Appendix A: Hosting and installing the web console

#### Hosting requirements

* Php7 engine
* MySQL 8 database server
* Apache2 webserver

#### Server resources requirements

* min 8GB RAM
* min 2 core cpu
* min 10GB disk space

#### Installation steps for the webconsole

copy the web console files into the selected webroot directory create VirtualHost section in the Apache2 configuration and point it to selected directory
make sure that there is set a directive DirectoryIndex index.php

write the database name, database user and the corresponding password into the web console configuration file _includes.php

```
switch (SERVER) {
  case 'UAT':
    define('SYSTEM_HOST', '<https://mybohostname>');
    define('DB_TYPE', 'mysqli');
    define('DB_HOST', 'localhost');
    define('DB_USER', 'root');
    define('DB_PASSWORD', 'xxxx');
    define('DB_SCHEMA', 'egnss4all');
    break;
```

```
 case 'LOCALHOST':
    define('SYSTEM_HOST', '<https://mybohostname>');
    define('DB_TYPE', 'mysqli');
    define('DB_HOST', 'localhost');
    define('DB_USER', 'xxxx');
    define('DB_PASSWORD', 'xxxx');
    define('DB_SCHEMA', 'egnss4all');
    ini_set('display_errors', 0);
    break;
}
```

run [<u>http://your * domain.tld</u>](<http://your> * domain.tld/)

### Appendix B: Developer Documentation

#### Technologies

* OOP PHP (Object * Oriented Programming)
* TWIG templates
* MySQL database
  * DIBI framework for DB query
* HTML, CSS, Javascript
  * Bootstrap 4.4.1 framework, jquery framework
* Google maps API
* MPDF framework for generating PDF
* html2canvas.js plugin

#### Classes description

* Index
  * managing farmers
  * loading farmer list and tasks
* login
  * login user
  * logout user
  * verifying users
* task
  * adding tasks
  * loading task info and photos
  * accepting, declining and deleting tasks
  * changing task status
  * loading photos and photos metadata
  * loading shapes
  * assign unassigned photos to task
  * generating PDF
* user
  * managing users and roles
  * loading the unassigned photos and tasks of users
  * managing photo rotation

#### Structure

* CSS
  * cascade styles for web pages
* ENGINE
  * framework and classes
* FONTS
  * fonts for web pages
* IMG
  * images for web
* JS
  * javascript files for web and map
* PHOTOS
  * photos downloaded from phones
* TEMPLATES
  * TWIG templates for web
* VENDOR
  * frameworks

### Web Services and Database

Below is a technical overview of the implemented web services for the PIC2BIM application and their features.

##### Installation Web Services

[<u>https://github.com/buildvoc/EGNSS4ALLSERVICES</u>](https://github.com/buildvoc/EGNSS4ALLSERVICES)

* Install PHP version 8, enable GDI module in PHP
* Install Apache2
* Install MySql Database following instructions on [<u>https://github.com/buildvoc/EGNSS4ALLDATABASE</u>](https://github.com/buildvoc/EGNSS4ALLDATABASE)
* Copy project files in a web accessible directory of Apache
* Modify the file engine/db_fx.php accordingly to your MySql database setup
* Create a writable by apache directory named "photos4all" on the same level of the project main path

#### Installation Database

* Install MySql database 8
* Create a Database named "egnss4all"
* Import sql file into mysql to init database

#### check user by login and pswd

[<u>https://pic2bim.co.uk/egnss4allservices/comm_login.php</u>](https://pic2bim.co.uk/egnss4allservices/comm_login.php)

* input
  * HTTPS, POST
  * parameters
    * login – string(255)
    * pswd  *  string(255)
* output
  * JSON
    * status – string  *  ok/error
    * error_msg – string – error message if an error occurs
    * user – number – user ID for login, if exists

#### sends geometry shapes for rectangle

[<u>https://pic2bim.co.uk/egnss4allservices/comm_shapes.php</u>](https://pic2bim.co.uk/egnss4allservices/comm_shapes.php)

* input
  * HTTPS, POST
  * parameters
    * max_lat – float
    * min_lat – float
    * max_lng – float
    * min_lng – float
* output
  * JSON
    * status – string  *  ok/error
    * error_msg – string – error message if an error occurs
    * shapes – array
    * identificator – string – shape identificator
    * wgs_geometry – json – geometry of shape

#### sends photos for task or user

[<u>https://pic2bim.co.uk/egnss4allservices/comm_task_photos.php</u>](https://pic2bim.co.uk/egnss4allservices/comm_task_photos.php)

* input
  * HTTPS, POST
  * parameters
    * task_id – number – task identificator
    * user_id – number – user identificator
* output
  * JSON
    * status – string  *  ok/error
    * error_msg – string – error message if an error occurs
    * photos – array
      * note – string – user note
      * lat – float – latitude of photo
      * lng – float – longitute of photo
      * photo_heading – number – photo azimuth
      * created – datetime – date and time of photo creation
      * photo – string – base64 encoded photo
      * digest – string – hash of photo

#### sends tasks for user

[<u>https://pic2bim.co.uk/egnss4allservices/comm_tasks.php</u>](https://pic2bim.co.uk/egnss4allservices/comm_tasks.php)

* input
  * HTTPS, POST
  * parameters
    * user_id – number – user identificator
* output
  * JSON
    * status – string  *  ok/error
    * error_msg – string – error message if an error occurs
    * tasks – array
      * id – number – task identificator
      * status – string – task status
      * name – string – task name
      * text – string – description of task
      * text_returned – string – description why is returned
      * date_created – datetime – date of create task
      * task_due_date – datetime – task due date
      * note – string – task note
      * number_of_photos – number – number of photos for task
      * flag_valid – string – task is accepted
      * flag_invalid – string – task is declined
      * photos_ids – array of numbers – IDs of task photos

#### receive task data from phone

[<u>https://pic2bim.co.uk/egnss4allservices/comm_update.php</u>](https://pic2bim.co.uk/egnss4allservices/comm_update.php)

* input
  * HTTPS, POST
  * parameters
  * task_id – number – task identificator
  * user_id – number – user identificator
  * status – string – task statuses
  * note – string – task note
  * photos – array
    * note – string – photo note
    * lat – float – photo latitude
    * lng – float – photo longitude
    * altitude
    * bearing
    * magnetic_azimuth
    * photo_heading
    * pitch
    * roll
    * photo_angle
    * orientation
    * horizontalViewAngle
    * verticalViewAngle
    * accuracy
    * deviceManufacture
    * deviceModel
    * devicePlatform
    * deviceVersion
    * satsInfo
    * extraSatCount
    * NMEAMessage
    * networkInfo
    * created – datetime – date of photo creation
    * digest – string – photo hash
    * efkLatGpsL1
    * efkLngGpsL1
    * efkAltGpsL1
    * efkTimeGpsL1
    * efkLatGpsL5
    * efkLngGpsL5
    * efkAltGpsL5
    * efkTimeGpsL5
    * efkLatGpsIf
    * efkLngGpsIf
    * efkAltGpsIf
    * efkTimeGpsIf
    * efkLatGalE1
    * efkLngGalE1
    * efkAltGalE1
    * efkTimeGalE1
    * efkLatGalE5
    * efkLng GalE5
    * efkAlt GalE5
    * efkTimeGalE5
    * efkLatGalIf
    * efkLngGalIf
    * efkAltGalIf
    * efkTimeGalIf
    * photo – string – base64 encoded photo
* output
  * JSON
    * status – string  *  ok/error
    * error_msg – string – error message if an error occurs

#### sends paths for user

[<u>https://pic2bim.co.uk/egnss4allservices/comm_get_paths.php</u>](https://pic2bim.co.uk/egnss4allservices/comm_get_paths.php)

* input
  * HTTPS, POST
  * parameters
    * user_id – number – user identificator
* output
  * JSON
  * status – string  *  ok/error
  * error_msg – string – error message if an error occurs
  * paths – array
  * id – number – identificator
  * name  *  string
  * start – datetime – start of tracking datetime
  * end – datetime – end of tracking datetime
  * area – float – path area in m2
  * device_manufacture  *  string
  * device_model  *  string
  * device_platform  *  string
  * device_version  *  string
  * points – array
    * id – number – identificator
    * lat  *  float
    * lng  *  float
    * altitude  *  float
    * accuracy  *  float
    * created  *  datetime

#### sends photo by ID

[<u>https://pic2bim.co.uk/egnss4allservices/comm_get_photo.php</u>](https://pic2bim.co.uk/egnss4allservices/comm_get_photo.php)

* input
  * HTTPS, POST
  * parameters
    * photo_id – number – photo identificator
* output
  * JSON
    * status – string  *  ok/error
    * error_msg – string – error message if an error occurs
    * photo – object
      * note – string – photo note
      * lat – float – photo lattitude
      * lng – float – photo longitude
      * photo_heading – number – heading in degrees
      * created – datetime
      * photo – string – base64 encoded photo
      * digest – string – photo hash

#### receive path from phone

[<u>https://pic2bim.co.uk/egnss4allservices/comm_path.php</u>](https://pic2bim.co.uk/egnss4allservices/comm_path.php)

* input
  * HTTPS, POST
  * parameters
    * user_id – number – user identificator
    * name  *  string
    * start – datetime – start of tracking datetime
    * end – datetime – end of tracking datetime
    * area – float – path area in m2
    * device_manufacture  *  string
    * device_model  *  string
    * device_platform  *  string
    * device_version  *  string
    * points – array
      * lat  *  float
      * lng  *  float
      * altitude  *  float
      * accuracy  *  float
      * created  *  datetime
* output
  * JSON
    * status – string  *  ok/error
    * error_msg – string – error message if an error occurs
    * path_id – number – ID of received path

#### receive photo data from phone

[<u>https://pic2bim.co.uk/egnss4allservices/comm_photo.php</u>](https://pic2bim.co.uk/egnss4allservices/comm_photo.php)

* input
  * HTTPS, POST
  * parameters
    * task_id – number – task identificator
    * user_id – number – user identificator
    * photos – array
      * note – string – photo note
      * lat – float – photo latitude
      * lng – float – photo longitude
      * centroidLat
      * centroidLng
      * altitude
      * bearing
      * magnetic_azimuth
      * photo_heading
      * pitch
      * roll
      * photo_angle
      * orientation
      * horizontalViewAngle
      * verticalViewAngle
      * accuracy
      * deviceManufacture
      * deviceModel
      * devicePlatform
      * deviceVersion
      * satsInfo
      * extraSatCount
      * NMEAMessage
      * networkInfo
      * created – datetime – date of photo creation
      * digest – string – photo hash
      * efkLatGpsL1
      * efkLngGpsL1
      * efkAltGpsL1
      * efkTimeGpsL1
      * efkLatGpsL5
      * efkLngGpsL5
      * efkAltGpsL5
      * efkTimeGpsL5
      * efkLatGpsIf
      * efkLngGpsIf
      * efkAltGpsIf
      * efkTimeGpsIf
      * efkLatGalE1
      * efkLngGalE1
      * efkAltGalE1
      * efkTimeGalE1
      * efkLatGalE5
      * efkLng GalE5
      * efkAlt GalE5
      * efkTimeGalE5
      * efkLatGalIf
      * efkLngGalIf
      * efkAltGalIf
      * efkTimeGalIf
      * photo – string – base64 encoded photo
* output
  * JSON
    * status – string  *  ok/error
    * error_msg – string – error message if an error occurs
    * photo_id – number – ID of received photo

#### receive task data from phone

[<u>https://pic2bim.co.uk/egnss4allservices/comm_status.php</u>](https://pic2bim.co.uk/egnss4allservices/comm_status.php)

* input
  * HTTPS, POST
  * parameters
    * task_id – number – task identificator
    * status – string – task statuses
    * note – string – task note
* output
  * JSON
    * status – string  *  ok/error
    * error_msg – string – error message if an error occurs

#### sends IDs of unassigned photos for user

[<u>https://pic2bim.co.uk/egnss4allservices/comm_unassigned.php</u>](https://pic2bim.co.uk/egnss4allservices/comm_unassigned.php)

* input
  * HTTPS, POST
  * parameters
    * user_id – number – user identificator
* output
  * JSON
    * status – string  *  ok/error
    * error_msg – string – error message if an error occurs
    * photos_ids – array of numbers – IDs of unassigned photos
